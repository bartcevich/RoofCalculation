(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1621:function(e,t,n){Promise.resolve().then(n.bind(n,8254))},8254:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return W}});var s=n(9268),a=n(6006),r=n(2173),l=n(8302),o=n.n(l),i=n(982),c=n.n(i),u=n(5906),d=n.n(u),h=n(4713);let _=a.memo(()=>{let e=(0,h.ZZ)();return e.loading?(0,s.jsx)("p",{children:"loading... "}):e.error?(0,s.jsx)("p",{children:"Enable access about your location"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("h2",{children:["latitude: ",e.latitude]}),(0,s.jsxs)("h2",{children:["longitude: ",e.longitude]})]})});function A(){let[e,t]=(0,a.useState)(!1),{userChoice:n,setUserChoice:l}=(0,a.useContext)(r.IngredientsContext),[o,i]=(0,a.useState)(1),[c,u]=(0,a.useState)(new Date),[h,A]=(0,a.useState)("100%");new Intl.DateTimeFormat("ru",{year:"numeric",day:"numeric",month:"long",hour12:!0,hour:"numeric",minute:"numeric",second:"numeric"});let g=()=>{u(new Date)};(0,a.useEffect)(()=>{let e=setInterval(()=>g(),1e3);return()=>{clearInterval(e)}},[]);let m=()=>{let e=n.background||1;i(e)};(0,a.useEffect)(()=>{navigator.getBattery().then(e=>{A("".concat(Math.round(100*e.level),"%"))}).catch(e=>{console.error("Failed to get battery info:",e)}),"object"==typeof n&&null!==n&&Object.keys(n).length>0&&m()},[]),1===o?d().background1:2===o?d().background2:d().background3;let x=()=>{l(e=>({...e,background:o}))};return(0,a.useEffect)(()=>{x()},[o]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:d().container,children:[(0,s.jsxs)("div",{className:d().button,children:[(0,s.jsx)("p",{children:"выберите фон:"}),(0,s.jsx)("input",{type:"range",max:"4",min:"1",value:o,onChange:e=>{i(parseInt(e.target.value))},id:"sliderRange"})]}),(0,s.jsx)("div",{className:d().geoLocation,onClick:()=>t(e=>!e),children:e?(0,s.jsx)(_,{}):(0,s.jsx)("button",{children:"Geolocation"})})]})})}var g=n(3380),m=n(9),x=n(6225),p=n(1482),j=n(1037),y=n(273),b=n(8714),f=n(5633),v=n(6584),C=n(3810),w=n.n(C),k=n(5011),N=n.n(k);let S=e=>{let{xValues:t,onXValuesChange:n}=e,[r,l]=(0,a.useState)(t[t[0]]||-100),[o,i]=(0,a.useState)(t[t.length-1]||-10),[c,u]=(0,a.useState)(t[Math.abs(t[1]-t[0])]||10.99),d=e=>{if("key"in e&&"Enter"!==e.key)return};return(0,s.jsxs)("div",{className:N().xSettings,children:[(0,s.jsx)("h3",{children:"Настройки оси X"}),(0,s.jsxs)("div",{className:N().rangeInput,children:[(0,s.jsxs)("label",{children:["Диапазон:",(0,s.jsx)("input",{type:"number",placeholder:"От",value:r,onChange:e=>{let t=e.target.value;l(Number(t))},onBlur:d,onKeyDown:d}),(0,s.jsx)("input",{type:"number",placeholder:"До",value:o,onChange:e=>{let t=e.target.value;i(Number(t))},onBlur:d,onKeyDown:d})]}),(0,s.jsxs)("label",{children:["Шаг:",(0,s.jsx)("input",{type:"number",value:c,onChange:e=>{let t=Math.abs(Number(e.target.value));u(0===t?1:t)},onBlur:d,onKeyDown:d,min:"0.01"})]}),(0,s.jsx)("button",{className:N().editButton,onClick:()=>{let e;o>=r?e=Math.floor((o-r)/c)+1:(e=Math.floor((o-r)/c)+1)<0&&(e=0);let t=Array.from({length:e},(e,t)=>r+t*c);o<r&&t.reverse(),n(t)},children:"Применить"})]})]})};var E=n(2021),B=n.n(E),I=e=>{let{xValues:t,onXValuesChange:n}=e,[r,l]=(0,a.useState)(t.map(String)),[o,i]=(0,a.useState)(!1);(0,a.useEffect)(()=>{l(t.map(String))},[t]);let c=(e,t)=>{let n=[...r];n[e]=t,l(n)},u=()=>{l([...r,""])},d=(e,t)=>{"Enter"===e.key&&(t===r.length-1&&""!==r[t].trim()&&u(),h())},h=()=>{let e=r.map(e=>parseFloat(e)).filter(e=>!isNaN(e));e.length>0&&n(e),i(!1)};return(0,s.jsxs)("div",{className:B().customXValues,children:[(0,s.jsx)("h3",{children:"Настройка значений X"}),(0,s.jsx)("div",{className:B().inputsContainer,children:r.map((e,t)=>(0,s.jsxs)("div",{className:B().inputWrapper,children:[(0,s.jsx)("input",{type:"number",value:e,onChange:e=>c(t,e.target.value),onKeyDown:e=>d(e,t),onBlur:h,className:B().numberInput}),t===r.length-1&&(0,s.jsx)("button",{onClick:u,className:B().addButton,title:"Добавить поле",children:"+"})]},t))}),!o&&(0,s.jsx)("button",{onClick:()=>{i(!0)},className:B().editButton,children:"Редактировать значения X"})]})},D=n(7120),M=n.n(D),T=e=>{let{userChoice:t,setUserChoice:n}=(0,a.useContext)(r.IngredientsContext),[l,o]=(0,a.useState)(""),[i,c]=(0,a.useState)(""),[u,d]=(0,a.useState)(""),[h,_]=(0,a.useState)(""),A=()=>{t.selectedWidth>=5&&t.selectedLength>=5&&(o(t.selectedWidth||{}),c(t.selectedLength||{}))};return(0,a.useEffect)(()=>{"object"==typeof t&&null!==t&&Object.keys(t).length>0&&A()},[]),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:M().container_select,children:["Длина:",(0,s.jsx)("input",{type:"number",value:e.width,step:.2,min:5,max:25,onChange:t=>{let n=t.target.value;o(""===n?"":parseFloat(n)),e.setWidth(n)}})]}),u&&(0,s.jsx)("p",{style:{color:"red"},children:u})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:M().container_select,children:["Ширина:",(0,s.jsx)("input",{type:"number",value:e.height,min:200,max:800,onChange:t=>{let n=t.target.value;c(""===n?"":parseFloat(n)),e.setHeight(n)}})]}),h&&(0,s.jsx)("p",{style:{color:"red"},children:h})]})]})};function F(){let[e,t]=(0,a.useState)("1200"),[n,r]=(0,a.useState)("500"),[l,o]=(0,a.useState)([{id:2,name:"График 2",color:"#82ca9d",values:[0,108.55,43.33,23.85,36.34,4.56,-55.3]}]),[i,c]=(0,a.useState)([-100,-90,-80,-70,-60,-50,-40,-30,-20,-10]),u=e=>{o(l.filter(t=>t.id!==e))},d=(e,t,n)=>{o(l.map(s=>s.id===e?{...s,[t]:n}:s))},h=e=>{c(e),o(l.map(t=>({...t,values:t.values.slice(0,e.length).concat(Array(Math.max(0,e.length-t.values.length)).fill(0))})))},_=i.map((e,t)=>{let n={name:String(e)};return l.forEach(e=>{n["graph_".concat(e.id)]=e.values[t]||0}),n});return(0,s.jsxs)("div",{className:w().container,children:[(0,s.jsxs)("div",{className:w().controls,children:[(0,s.jsx)("h2",{children:"Управление графиками"}),(0,s.jsx)(S,{xValues:i,onXValuesChange:h}),(0,s.jsx)(I,{xValues:i,onXValuesChange:h}),(0,s.jsx)(T,{setWidth:t,setHeight:r,width:e,height:n}),(0,s.jsxs)("div",{className:w().graphsTable,children:[(0,s.jsx)("h3",{children:"Графики (макс. 20)"}),(0,s.jsx)("button",{className:w().addGraph,onClick:()=>{if(l.length>=20)return;let e={id:Date.now(),name:"График ".concat(l.length+1),color:"#".concat(Math.floor(16777215*Math.random()).toString(16)),values:Array(i.length).fill(-1)};o([...l,e])},disabled:l.length>=20,children:"Добавить график"}),(0,s.jsxs)("table",{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Название"}),(0,s.jsx)("th",{children:"Цвет"}),(0,s.jsx)("th",{children:"Действия"}),i.map((e,t)=>(0,s.jsxs)("th",{children:["X=",e]},t))]})}),(0,s.jsx)("tbody",{children:l.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("input",{type:"text",value:e.name,onChange:t=>{d(e.id,"name",t.target.value)}})}),(0,s.jsx)("td",{children:(0,s.jsx)("input",{type:"color",value:e.color,onChange:t=>{d(e.id,"color",t.target.value)}})}),(0,s.jsx)("td",{children:(0,s.jsx)("button",{onClick:()=>u(e.id),children:"Удалить"})}),e.values.map((t,n)=>(0,s.jsx)("td",{children:(0,s.jsx)("input",{type:"number",value:t,onChange:t=>{let s=[...e.values];s[n]=Number(t.target.value),d(e.id,"values",s)}})},n))]},e.id))})]})]})]}),(0,s.jsx)("div",{className:w().chartWrapper,children:(0,s.jsxs)(x.w,{width:Number(e),height:Number(n),data:_,children:[(0,s.jsx)(p.K,{dataKey:"name"}),(0,s.jsx)(j.B,{}),(0,s.jsx)(y.q,{stroke:"#eee",strokeDasharray:"5 5"}),(0,s.jsx)(b.u,{}),(0,s.jsx)(f.D,{}),l.map(e=>(0,s.jsx)(v.x,{type:"monotone",dataKey:"graph_".concat(e.id),name:e.name,stroke:e.color,activeDot:{r:8}},e.id))]})})]})}function H(){let{userChoice:e,setUserChoice:t}=(0,a.useContext)(r.IngredientsContext),[n,l]=(0,a.useState)(0),[o,i]=(0,a.useState)(1),u=(0,a.useCallback)(()=>{let s=e.letterInMail||{},a=e.formData||{};if("true"!==s.mail&&1===n){let e=JSON.stringify(a);fetch("https://api.web3forms.com/submit",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:e}).then(e=>e.json()).then(e=>{!0===e.success?(l(2),t(e=>({...e,letterInMail:{mail:"true"}}))):l(1)}).catch(e=>{console.log(e)})}},[e,n,t]);(0,a.useEffect)(()=>{"object"==typeof e&&null!==e&&Object.keys(e).length>0&&(l(1),u())},[n]);let d=()=>window.scrollTo(0,0),h=()=>{let t=e.background||1;i(t)};(0,a.useEffect)(()=>{"object"==typeof e&&null!==e&&Object.keys(e).length>0&&h()},[e]);let _=1===o?c().background1:2===o?c().background2:3===o?c().background3:c().background4;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"".concat(c().containerTest," ").concat(_),children:[(0,s.jsx)(A,{}),(0,s.jsxs)("div",{className:c().container,children:[(0,s.jsx)(F,{}),(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:c().goToTop,onClick:()=>d(),children:(0,s.jsx)(g.G,{icon:m.M3_})})})]})]})})}var Q=n(6394),R=n.n(Q),L={src:"/_next/static/media/test.55747cbe.jpg",height:158,width:309,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAQACAMBIgACEQEDEQH/xAAoAAEBAAAAAAAAAAAAAAAAAAAABwEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAKuCv//EABwQAAICAgMAAAAAAAAAAAAAAAEDAhEAEiJxof/aAAgBAQABPwCCTuwlzTzEqvzrP//EABURAQEAAAAAAAAAAAAAAAAAAAAB/9oACAECAQE/AI//xAAWEQADAAAAAAAAAAAAAAAAAAAAAjL/2gAIAQMBAT8Aaj//2Q==",blurWidth:8,blurHeight:4};let O=[{value:"Enter your answer",label:"Enter your answer"},{value:"голубь",label:"голубь"},{value:"сорока",label:"сорока"},{value:"ворона",label:"ворона"}];var W=()=>{let{userChoice:e,setUserChoice:t}=(0,a.useContext)(r.IngredientsContext),[n,l]=(0,a.useState)(new Date().toDateString()),[i,c]=(0,a.useState)(""),[u,d]=(0,a.useState)(""),[h,_]=(0,a.useState)(!1),[A,g]=(0,a.useState)(!1),[m,x]=(0,a.useState)(!0),[p,j]=(0,a.useState)(""),[y,b]=(0,a.useState)(0);(0,a.useEffect)(()=>{if("object"==typeof e&&null!==e&&Object.keys(e).length>0){let t=e.formData||{};x(t.today===n)}},[e]);let f=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),v=e=>/^[^\s]{0,20}$/.test(e),C=()=>{t(e=>({...e,formData:{email:i,key:u,answer:p,access_key:"60829245-4068-4062-bc62-2704f53261e7",today:n},letterInMail:{mail:"false"}}))};return(0,a.useEffect)(()=>{b(window.innerHeight-540)},[]),(0,s.jsx)(s.Fragment,{children:m?(0,s.jsx)(H,{}):(0,s.jsx)("div",{className:o().wrapper,style:{marginBottom:"".concat(y,"px")},children:(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),h&&A&&"сорока"===p?(window.navigator.vibrate([500,500,500]),C(),x(!0)):console.log("Invalid answer, email or password")},className:"".concat(o().containerForm," ").concat(m?"animate-slide":""),children:[(0,s.jsx)("h3",{children:"Регистрация."}),(0,s.jsxs)("label",{children:[(0,s.jsx)("h3",{children:"Введите адрес вашей электронной почты"}),(0,s.jsx)("input",{type:"email",value:i,onInput:e=>{let t=e.target.value;c(t),_(f(t))},required:!0,id:"email",placeholder:"Enter a valid email address",autoComplete:"email"})]}),(0,s.jsx)("br",{}),(0,s.jsxs)("label",{children:[(0,s.jsx)("h3",{children:"Введите ваш пароль"}),(0,s.jsx)("input",{type:"password",value:u,onInput:e=>{let t=e.target.value;d(t),g(v(t))},required:!0,id:"password",placeholder:"".concat(""===u?"Enter your password":"password"),autoComplete:"current-password"})]}),(0,s.jsx)("br",{}),(0,s.jsx)("h3",{children:"Выберите правильный ответ"}),(0,s.jsx)("div",{className:o().imageTest,children:(0,s.jsx)(R(),{src:L,alt:"image"})}),(0,s.jsx)("select",{className:"formControl ".concat(p?"formError":""),onChange:e=>{let t=e.target.value;j(t)},value:p,id:"contactAnswer",name:"answer",placeholder:""===p?"Enter your answer":"",children:O.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,s.jsx)("button",{type:"submit",children:(0,s.jsx)("div",{className:o().button,children:h?A?"сорока"!==p?"Выберите ответ":"Войти":"Создайте пароль":"Введите вашу почту"})})]})})})}},2173:function(e,t,n){"use strict";n.r(t),n.d(t,{IngredientsContext:function(){return r},MenuProvider:function(){return l}});var s=n(9268),a=n(6006);let r=(0,a.createContext)({userChoice:{},setUserChoice:()=>{}}),l=e=>{let{children:t}=e,[n,l]=(0,a.useState)({}),o=(0,a.useMemo)(()=>({userChoice:n,setUserChoice:l}),[n,l]);return(0,a.useEffect)(()=>{let e=localStorage.getItem("ingredientHistory7");if(e){let t=JSON.parse(e);l(t)}},[]),(0,a.useEffect)(()=>{"object"==typeof n&&null!==n&&Object.keys(n).length>0&&localStorage.setItem("ingredientHistory7",JSON.stringify(n))},[n]),(0,s.jsx)(r.Provider,{value:o,children:t})}},2021:function(e){e.exports={customXValues:"styles_customXValues__UvUm_",inputsContainer:"styles_inputsContainer__qjS__",inputWrapper:"styles_inputWrapper__FqAoJ",numberInput:"styles_numberInput__kUeL8",addButton:"styles_addButton__bq_Ci",editButton:"styles_editButton__iM4hS"}},5011:function(e){e.exports={fontHelveticaNeueCyr:"HelveticaNeueCyr,sans-serif",fontBarlow:"Barlow,sans-serif",colorRedLight:"#ef233c",colorRedDark:"#d90429",editButton:"styles_editButton__NiH_1"}},8302:function(e){e.exports={fontHelveticaNeueCyr:"HelveticaNeueCyr,sans-serif",fontBarlow:"Barlow,sans-serif",colorRedLight:"#ef233c",colorRedDark:"#d90429","animate-slide":"styles_animate-slide__4XcFj",slideIn:"styles_slideIn__8_QdL",containerForm:"styles_containerForm__3HubK",imageTest:"styles_imageTest__Ae7cL",button:"styles_button__ox83s",wrapper:"styles_wrapper__T8DWD"}},3810:function(e){e.exports={fontHelveticaNeueCyr:"HelveticaNeueCyr,sans-serif",fontBarlow:"Barlow,sans-serif",colorRedLight:"#ef233c",colorRedDark:"#d90429",container:"styles_container__uBmr8",controls:"styles_controls__3tmjh",chartWrapper:"styles_chartWrapper__4rFbM",xSettings:"styles_xSettings__Aw_h0",rangeInput:"styles_rangeInput__6GJCy",graphsTable:"styles_graphsTable__09_Gf",addGraph:"styles_addGraph___kuRd"}},982:function(e){e.exports={fontHelveticaNeueCyr:"HelveticaNeueCyr,sans-serif",fontBarlow:"Barlow,sans-serif",colorRedLight:"#ef233c",colorRedDark:"#d90429",container:"styles_container__2CT7I",background1:"styles_background1__HX5ZP",background2:"styles_background2__7RCAh",background3:"styles_background3__I5jC_",gradientAnimation:"styles_gradientAnimation__SvXxk",background4:"styles_background4__Td3qv",container_button:"styles_container_button__oOeIj",goToTop:"styles_goToTop__gLhYj",button:"styles_button__vh3cO",button2:"styles_button2__6hPYA",container_text:"styles_container_text__C30S1",column1:"styles_column1__kjk3k"}},7120:function(e){e.exports={fontHelveticaNeueCyr:"HelveticaNeueCyr,sans-serif",fontBarlow:"Barlow,sans-serif",colorRedLight:"#ef233c",colorRedDark:"#d90429",container_top:"styles_container_top__7OFyz",container:"styles_container__gBl_n",container_select:"styles_container_select__4tZjM",container_button:"styles_container_button__9Jkqm",button:"styles_button__IMy0I",button2:"styles_button2__ax9mk",container_text:"styles_container_text__UCMOZ",container_ingredients:"styles_container_ingredients__JxrpR",container_popup:"styles_container_popup__woY6G",container_Summarized:"styles_container_Summarized__nNm3V"}},5906:function(e){e.exports={fontHelveticaNeueCyr:"HelveticaNeueCyr,sans-serif",fontBarlow:"Barlow,sans-serif",colorRedLight:"#ef233c",colorRedDark:"#d90429",container:"styles_container__9CYIR",button:"styles_button__OV10l"}}},function(e){e.O(0,[957,656,380,929,253,769,744],function(){return e(e.s=1621)}),_N_E=e.O()}]);